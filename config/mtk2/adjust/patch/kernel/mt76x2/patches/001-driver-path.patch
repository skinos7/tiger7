Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Kconfig
===================================================================
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Makefile	2021-12-26 10:42:03.725844279 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Makefile	2021-12-26 00:35:38.363121482 +0800
@@ -1,10 +1,11 @@
 ifeq ($(CONFIG_SUPPORT_OPENWRT),y)
-EXTRA_CFLAGS = -I$(src)/../src/include -I$(src)/../src/ate/include
-DRV_NAME = mt76x2e
-RT_WIFI_DIR = ../src
+EXTRA_CFLAGS = -I$(src)/../rlt_wifi/include \
+	       	   -I$(src)/../rlt_wifi/ate/include
+DRV_NAME = mt76x2
+RT_WIFI_DIR = ../rlt_wifi
 else
-EXTRA_CFLAGS = -Idrivers/net/wireless/rlt_wifi/include -Idrivers/net/wireless/rlt_wifi/ate/include
-DRV_NAME = rlt_wifi
+EXTRA_CFLAGS = -Idrivers/net/wireless/mtk/mt76x2/rlt_wifi/include -Idrivers/net/wireless/mtk/mt76x2/rlt_wifi/ate/include
+DRV_NAME = mt76x2_wifi
 RT_WIFI_DIR = ../rlt_wifi
 endif
 
@@ -55,11 +56,11 @@
 rate_objs := $(RT_WIFI_DIR)/rate_ctrl/ra_ctrl.o\
             $(RT_WIFI_DIR)/rate_ctrl/alg_legacy.o
 
-ifeq ($(CONFIG_NEW_RATE_ADAPT_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_NEW_RATE_ADAPT_SUPPORT),y)
     EXTRA_CFLAGS += -DNEW_RATE_ADAPT_SUPPORT
     rate_objs += $(RT_WIFI_DIR)/rate_ctrl/alg_grp.o
 
-    ifeq ($(CONFIG_AGS_SUPPORT),y)
+    ifeq ($(CONFIG_MT76X2E_AGS_SUPPORT),y)
         EXTRA_CFLAGS += -DAGS_ADAPT_SUPPORT
         rate_objs += $(RT_WIFI_DIR)/rate_ctrl/alg_ags.o
     endif
@@ -71,13 +72,13 @@
 ########################################################
 asic_objs := $(RT_WIFI_DIR)/phy/phy.o
 
-ifeq ($(CONFIG_RLT_MAC),y)
+ifeq ($(CONFIG_MT76X2E_RLT_MAC),y)
     EXTRA_CFLAGS += -DRLT_MAC
 
     asic_objs += $(RT_WIFI_DIR)/mac/ral_nmac.o
 endif
 
-ifeq ($(CONFIG_RTMP_MAC),y)
+ifeq ($(CONFIG_MT76X2E_RTMP_MAC),y)
     EXTRA_CFLAGS += -DRTMP_MAC
 
     asic_objs += $(RT_WIFI_DIR)/mac/ral_omac.o\
@@ -92,14 +93,14 @@
             $(RT_WIFI_DIR)/common/uapsd.o
 
 # WSC
-ifeq ($(CONFIG_WSC_INCLUDED),y)
+ifeq ($(CONFIG_MT76X2E_WSC_INCLUDED),y)
     EXTRA_CFLAGS += -DWSC_INCLUDED
 
-    ifneq ($(CONFIG_RLT_AP_SUPPORT),)
+    ifneq ($(CONFIG_MT76X2E_RLT_AP_SUPPORT),)
         EXTRA_CFLAGS += -DWSC_AP_SUPPORT
     endif
 
-    ifneq ($(CONFIG_RLT_STA_SUPPORT),)
+    ifneq ($(CONFIG_MT76X2E_RLT_STA_SUPPORT),)
         EXTRA_CFLAGS += -DWSC_STA_SUPPORT
     endif
 
@@ -109,30 +110,30 @@
                     $(RT_WIFI_DIR)/common/crypt_biginteger.o\
                     $(RT_WIFI_DIR)/common/wsc_ufd.o
 
-    ifeq ($(CONFIG_WSC_V2_SUPPORT),y)
+    ifeq ($(CONFIG_MT76X2E_WSC_V2_SUPPORT),y)
         EXTRA_CFLAGS += -DWSC_V2_SUPPORT
         spec_objs += $(RT_WIFI_DIR)/common/wsc_v2.o
     endif
 
-    ifeq ($(CONFIG_WSC_NFC_SUPPORT),y)
+    ifeq ($(CONFIG_MT76X2E_WSC_NFC_SUPPORT),y)
         EXTRA_CFLAGS += -DWSC_NFC_SUPPORT
         spec_objs += $(RT_WIFI_DIR)/common/nfc.o
     endif
 endif
 
 # VHT
-ifeq ($(CONFIG_DOT11_VHT_AC),y)
+ifeq ($(CONFIG_MT76X2E_DOT11_VHT_AC),y)
     EXTRA_CFLAGS += -DDOT11_VHT_AC
     spec_objs += $(RT_WIFI_DIR)/mgmt/mgmt_vht.o\
             $(RT_WIFI_DIR)/common/vht.o
 endif
 
 # WAPI
-ifeq ($(CONFIG_WAPI_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_WAPI_SUPPORT),y)
     EXTRA_CFLAGS += -DWAPI_SUPPORT
-    ifeq ($(CONFIG_RALINK_RT3052),y)
-        EXTRA_CFLAGS += -DSOFT_ENCRYPT
-    endif
+#    ifeq ($(CONFIG_RALINK_RT3052),y)
+#        EXTRA_CFLAGS += -DSOFT_ENCRYPT
+#    endif
 
     spec_objs += $(RT_WIFI_DIR)/common/wapi.o\
                 $(RT_WIFI_DIR)/common/wapi_sms4.o\
@@ -140,7 +141,7 @@
 endif
 
 # ACM
-ifeq ($(CONFIG_WMM_ACM_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_WMM_ACM_SUPPORT),y)
     EXTRA_CFLAGS += -DWMM_ACM_SUPPORT
 
     spec_objs += $(RT_WIFI_DIR)/common/acm_edca.o\
@@ -149,24 +150,24 @@
 endif
 
 #PMF
-ifeq ($(CONFIG_DOT11W_PMF_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_DOT11W_PMF_SUPPORT),y)
     EXTRA_CFLAGS += -DDOT11W_PMF_SUPPORT -DSOFT_ENCRYPT
 
     spec_objs += $(RT_WIFI_DIR)/common/pmf.o
 endif
 
 # 11N BSS CoEx
-ifeq ($(CONFIG_DOT11N_DRAFT3),y)
+ifeq ($(CONFIG_MT76X2E_DOT11N_DRAFT3),y)
     EXTRA_CFLAGS += -DDOT11N_DRAFT3
 endif
 
 # LLTD
-ifeq ($(CONFIG_LLTD_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_LLTD_SUPPORT),y)
     EXTRA_CFLAGS += -DLLTD_SUPPORT
 endif
 
 # FT
-ifeq ($(CONFIG_DOT11R_FT_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_DOT11R_FT_SUPPORT),y)
 EXTRA_CFLAGS += -DDOT11R_FT_SUPPORT
 spec_objs += $(RT_WIFI_DIR)/common/ft.o\
                     $(RT_WIFI_DIR)/common/ft_tlv.o\
@@ -176,7 +177,7 @@
 endif
 
 # RR
-ifeq ($(CONFIG_DOT11K_RRM_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_DOT11K_RRM_SUPPORT),y)
 	EXTRA_CFLAGS += -DDOT11K_RRM_SUPPORT -DAP_SCAN_SUPPORT -DSCAN_SUPPORT -DAPPLE_11K_IOT
 spec_objs += $(RT_WIFI_DIR)/common/rrm_tlv.o\
                     $(RT_WIFI_DIR)/common/rrm_sanity.o\
@@ -184,7 +185,7 @@
 endif
 
 #HOTSPOT
-ifeq ($(CONFIG_PASSPOINT_R2),y)
+ifeq ($(CONFIG_MT76X2E_PASSPOINT_R2),y)
 	EXTRA_CFLAGS += -DCONFIG_DOT11U_INTERWORKING -DCONFIG_DOT11V_WNM -DCONFIG_HOTSPOT -DCONFIG_HOTSPOT_R2
 
     spec_objs += $(RT_WIFI_DIR)/common/wnm.o\
@@ -192,7 +193,7 @@
 				$(RT_WIFI_DIR)/common/hotspot.o
 endif
 #SNIFFER
-ifeq ($(CONFIG_SNIFFER_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_SNIFFER_SUPPORT),y)
     EXTRA_CFLAGS += -DCONFIG_SNIFFER_SUPPORT
 
     spec_objs += $(RT_WIFI_DIR)/sniffer/sniffer_radiotap.o\
@@ -200,7 +201,7 @@
 endif
 
 #CFG
-ifeq ($(CONFIG_CFG80211_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_CFG80211_SUPPORT),y)
     EXTRA_CFLAGS += -DRT_CFG80211_SUPPORT -DEXT_BUILD_CHANNEL_LIST
 
     spec_objs += $(RT_WIFI_DIR)/os/linux/cfg80211/cfg80211_scan.o\
@@ -219,39 +220,39 @@
 #
 func_objs :=
 
-ifeq ($(CONFIG_IGMP_SNOOP_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_IGMP_SNOOP_SUPPORT),y)
     EXTRA_CFLAGS += -DIGMP_SNOOP_SUPPORT
 
     func_objs += $(RT_WIFI_DIR)/common/igmp_snoop.o
 endif
 
-ifeq ($(CONFIG_BLOCK_NET_IF),y)
+ifeq ($(CONFIG_MT76X2E_BLOCK_NET_IF),y)
     EXTRA_CFLAGS += -DBLOCK_NET_IF
 
     func_objs += $(RT_WIFI_DIR)/common/netif_block.o
 endif
 
-ifeq ($(CONFIG_SINGLE_SKU),y)
+ifeq ($(CONFIG_MT76X2E_SINGLE_SKU),y)
     EXTRA_CFLAGS += -DSINGLE_SKU
     ifeq ($(CONFIG_RALINK_RT6352),y)
         EXTRA_CFLAGS += -DSINGLE_SKU_V2
     endif
 endif
 
-ifeq ($(CONFIG_SINGLE_SKU_V2),y)
+ifeq ($(CONFIG_MT76X2E_SINGLE_SKU_V2),y)
     EXTRA_CFLAGS += -DSINGLE_SKU_V2
 endif
 
-ifeq ($(CONFIG_RT2860V2_AP_VIDEO_TURBINE),y)
+ifeq ($(CONFIG_MT76X2E_RT2860V2_AP_VIDEO_TURBINE),y)
     EXTRA_CFLAGS += -DVIDEO_TURBINE_SUPPORT
 
     func_objs += $(RT_WIFI_DIR)/common/cmm_video.o
 endif
 
 
-ifeq ($(CONFIG_LED_CONTROL_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_LED_CONTROL_SUPPORT),y)
     EXTRA_CFLAGS += -DLED_CONTROL_SUPPORT
-    ifeq ($(CONFIG_WSC_INCLUDED),y)
+    ifeq ($(CONFIG_MT76X2E_WSC_INCLUDED),y)
         EXTRA_CFLAGS += -DWSC_LED_SUPPORT
     endif
 
@@ -276,17 +277,17 @@
             $(RT_WIFI_DIR)/ap/ap_cfg.o\
             $(RT_WIFI_DIR)/os/linux/ap_ioctl.o
 
-ifeq ($(CONFIG_QOS_DLS_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_QOS_DLS_SUPPORT),y)
     EXTRA_CFLAGS += -DQOS_DLS_SUPPORT
     ap_objs += $(RT_WIFI_DIR)/ap/ap_dls.o
 endif
 
-ifeq ($(CONFIG_MBSS_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_MBSS_SUPPORT),y)
     EXTRA_CFLAGS += -DMBSS_SUPPORT
 
-    ifeq ($(CONFIG_NEW_MBSSID_MODE),y)
+    ifeq ($(CONFIG_MT76X2E_NEW_MBSSID_MODE),y)
         EXTRA_CFLAGS += -DNEW_MBSSID_MODE
-        ifeq ($(CONFIG_ENHANCE_NEW_MBSSID_MODE),y)
+        ifeq ($(CONFIG_MT76X2E_ENHANCE_NEW_MBSSID_MODE),y)
             EXTRA_CFLAGS += -DENHANCE_NEW_MBSSID_MODE
         endif
     endif
@@ -296,7 +297,7 @@
 endif
 
 
-ifeq ($(CONFIG_WDS_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_WDS_SUPPORT),y)
     EXTRA_CFLAGS += -DWDS_SUPPORT
 
     ap_objs += $(RT_WIFI_DIR)/ap/ap_wds.o\
@@ -304,9 +305,9 @@
             $(RT_WIFI_DIR)/common/client_wds.o
 endif
 
-ifeq ($(CONFIG_APCLI_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_APCLI_SUPPORT),y)
     EXTRA_CFLAGS += -DAPCLI_SUPPORT -DMAT_SUPPORT -DAPCLI_AUTO_CONNECT_SUPPORT
-    #ifeq ($(CONFIG_RALINK_MT7620),y)
+    #ifeq ($(CONFIG_MT76X2E_RALINK_MT7620),y)
         EXTRA_CFLAGS += -DMAC_APCLI_SUPPORT
     #endif
 
@@ -321,54 +322,54 @@
             $(RT_WIFI_DIR)/common/cmm_mat_pppoe.o\
             $(RT_WIFI_DIR)/common/cmm_mat_ipv6.o
 
-    ifeq ($(CONFIG_MAC_REPEATER_SUPPORT),y)
+    ifeq ($(CONFIG_MT76X2E_MAC_REPEATER_SUPPORT),y)
         EXTRA_CFLAGS += -DMAC_REPEATER_SUPPORT
 
         ap_objs += $(RT_WIFI_DIR)/ap/ap_repeater.o
     endif
 
-    ifeq ($(CONFIG_APCLI_CERT_SUPPORT),y)
+    ifeq ($(CONFIG_MT76X2E_APCLI_CERT_SUPPORT),y)
         EXTRA_CFLAGS += -DAPCLI_CERT_SUPPORT
     endif
 endif
 
-ifeq ($(CONFIG_IDS_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_IDS_SUPPORT),y)
     EXTRA_CFLAGS += -DIDS_SUPPORT
 
     ap_objs += $(RT_WIFI_DIR)/ap/ap_ids.o
 endif
 
-ifeq ($(CONFIG_NINTENDO_AP),y)
+ifeq ($(CONFIG_MT76X2E_NINTENDO_AP),y)
     EXTRA_CFLAGS += -DNINTENDO_AP
 
     ap_objs += $(RT_WIFI_DIR)/ap/ap_nintendo.o
 endif
 
-ifeq ($(CONFIG_COC_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_COC_SUPPORT),y)
     EXTRA_CFLAGS += -DGREENAP_SUPPORT -DCOC_SUPPORT
 
     ap_objs += $(RT_WIFI_DIR)/hw_ctrl/greenap.o
 endif
 
-ifeq ($(CONFIG_DELAYED_TCP_ACK_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_DELAYED_TCP_ACK_SUPPORT),y)
     EXTRA_CFLAGS += -DDELAYED_TCP_ACK
 endif
 
-ifeq ($(CONFIG_THERMAL_PROTECT_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_THERMAL_PROTECT_SUPPORT),y)
     EXTRA_CFLAGS += -DTHERMAL_PROTECT_SUPPORT
 endif
 
-ifeq ($(CONFIG_ED_MONITOR_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_ED_MONITOR_SUPPORT),y)
     EXTRA_CFLAGS += -DED_MONITOR -DED_SMART
 endif
 
-ifeq ($(CONFIG_TXBF_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_TXBF_SUPPORT),y)
     EXTRA_CFLAGS += -DMCS_LUT_SUPPORT -DTXBF_SUPPORT -DVHT_TXBF_SUPPORT
     ap_objs += $(RT_WIFI_DIR)/common/cmm_txbf.o\
                     $(RT_WIFI_DIR)/common/cmm_txbf_cal.o
 endif
 
-ifeq ($(CONFIG_ATE_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_ATE_SUPPORT),y)
     EXTRA_CFLAGS += -DRALINK_ATE -DRALINK_QA -DCONFIG_RT2880_ATE_CMD_NEW
 
     ap_objs += $(RT_WIFI_DIR)/ate/common/rt_ate.o\
@@ -376,31 +377,31 @@
                     	$(RT_WIFI_DIR)/ate/common/ate_pci.o
 endif
 
-ifeq ($(CONFIG_RTMP_FLASH_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_RTMP_FLASH_SUPPORT),y)
     EXTRA_CFLAGS += -DRTMP_FLASH_SUPPORT
 endif
 
-ifeq ($(CONFIG_CON_WPS_SUPPORT), y)
+ifeq ($(CONFIG_MT76X2E_CON_WPS_SUPPORT), y)
     EXTRA_CFLAGS += -DCON_WPS -DCON_WPS_AP_SAME_UUID
 endif
 
-ifeq ($(CONFIG_DFS_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_DFS_SUPPORT),y)
     EXTRA_CFLAGS += -DDFS_SUPPORT
     EXTRA_CFLAGS += -DDFS_ATP_SUPPORT
     ap_objs += $(RT_WIFI_DIR)/common/cmm_dfs.o
 endif
 
-ifeq ($(CONFIG_CARRIER_DETECTION_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_CARRIER_DETECTION_SUPPORT),y)
     EXTRA_CFLAGS += -DCARRIER_DETECTION_SUPPORT
 
     ap_objs += $(RT_WIFI_DIR)/common/cmm_cs.o
 endif
 
-ifeq ($(CONFIG_MCAST_RATE_SPECIFIC),y)
+ifeq ($(CONFIG_MT76X2E_MCAST_RATE_SPECIFIC),y)
     EXTRA_CFLAGS += -DMCAST_RATE_SPECIFIC
 endif
 
-#ifeq ($(CONFIG_RT2860V2_AP_MESH),y)
+#ifeq ($(CONFIG_MT76X2E_RT2860V2_AP_MESH),y)
 #EXTRA_CFLAGS += -DMESH_SUPPORT -DINTEL_CMPC
 #mesh_objs += $(RT_WIFI_DIR)/common/mesh_bmpkt.o\
 #                    $(RT_WIFI_DIR)/common/mesh_ctrl.o\
@@ -422,17 +423,17 @@
             $(RT_WIFI_DIR)/os/linux/rt_profile.o\
             $(RT_WIFI_DIR)/os/linux/rt_main_dev.o
 
-ifeq ($(CONFIG_MULTI_INF_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_MULTI_INF_SUPPORT),y)
     EXTRA_CFLAGS += -DMULTI_INF_SUPPORT
 
     os_objs += $(RT_WIFI_DIR)/os/linux/multi_main_dev.o
 endif
 
-ifeq ($(CONFIG_WIFI_WORK_QUEUE),y)
+ifeq ($(CONFIG_MT76X2E_WIFI_WORK_QUEUE),y)
     EXTRA_CFLAGS += -DWORKQUEUE_BH
 endif
 
-ifeq ($(CONFIG_KTHREAD),y)
+ifeq ($(CONFIG_MT76X2E_KTHREAD),y)
     EXTRA_CFLAGS += -DKTHREAD_SUPPORT
 endif
 
@@ -440,117 +441,117 @@
 ########################################################
 # chip related files
 ########################################################
-ifeq ($(CONFIG_RALINK_RT2880),y)
-EXTRA_CFLAGS += -DRT2880
+#ifeq ($(CONFIG_RALINK_RT2880),y)
+#EXTRA_CFLAGS += -DRT2880
 
-chip_objs += $(RT_WIFI_DIR)/chips/rt2880.o
-endif
+#chip_objs += $(RT_WIFI_DIR)/chips/rt2880.o
+#endif
 
-ifeq ($(CONFIG_RT2860V2_AP_TXBF),y)
-EXTRA_CFLAGS += -DTXBF_SUPPORT
-endif
+#ifeq ($(CONFIG_RT2860V2_AP_TXBF),y)
+#EXTRA_CFLAGS += -DTXBF_SUPPORT
+#endif
 
-ifeq ($(CONFIG_RALINK_RT2883),y)
-EXTRA_CFLAGS += -DRT2883 -DDOT11N_SS3_SUPPORT -DA_BAND_SUPPORT -DRTMP_RF_RW_SUPPORT
+#ifeq ($(CONFIG_RALINK_RT2883),y)
+#EXTRA_CFLAGS += -DRT2883 -DDOT11N_SS3_SUPPORT -DA_BAND_SUPPORT -DRTMP_RF_RW_SUPPORT
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-            $(RT_WIFI_DIR)/chips/rt2883.o
-endif
-
-ifeq ($(CONFIG_RALINK_RT3883),y)
-EXTRA_CFLAGS += -DRT3883 -DDOT11N_SS3_SUPPORT -DA_BAND_SUPPORT -DRTMP_RF_RW_SUPPORT
-EXTRA_CFLAGS += -DRTMP_FLASH_SUPPORT -DCONFIG_SWMCU_SUPPORT
-EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
-EXTRA_CFLAGS += -DRANGE_EXT_SUPPORT
-EXTRA_CFLAGS += -DSTREAM_MODE_SUPPORT -DFIFO_EXT_SUPPORT
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#           $(RT_WIFI_DIR)/chips/rt2883.o
+#endif
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-                    $(RT_WIFI_DIR)/chips/rt3883.o
-                    #$(RT_WIFI_DIR)/ate/chips/rt3883_ate.o
+#ifeq ($(CONFIG_RALINK_RT3883),y)
+#EXTRA_CFLAGS += -DRT3883 -DDOT11N_SS3_SUPPORT -DA_BAND_SUPPORT -DRTMP_RF_RW_SUPPORT
+#EXTRA_CFLAGS += -DRTMP_FLASH_SUPPORT -DCONFIG_SWMCU_SUPPORT
+#EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+#EXTRA_CFLAGS += -DRANGE_EXT_SUPPORT
+#EXTRA_CFLAGS += -DSTREAM_MODE_SUPPORT -DFIFO_EXT_SUPPORT
+
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#                    $(RT_WIFI_DIR)/chips/rt3883.o
+#                    #$(RT_WIFI_DIR)/ate/chips/rt3883_ate.o
 
-ifeq ($(CONFIG_TXBF_SUPPORT),y)
-chip_objs += $(RT_WIFI_DIR)/common/cmm_txbf.o\
+#ifeq ($(CONFIG_TXBF_SUPPORT),y)
+#chip_objs += $(RT_WIFI_DIR)/common/cmm_txbf.o\
                     $(RT_WIFI_DIR)/common/cmm_txbf_cal.o
-endif
-endif
-
-ifeq ($(CONFIG_RALINK_RT3052),y)
-EXTRA_CFLAGS += -DSPECIFIC_VCORECAL_SUPPORT
-ifeq ($(CONFIG_RALINK_RT3350),y)
-EXTRA_CFLAGS += -DRT3350 -DRT305x -DRTMP_RF_RW_SUPPORT
-else
-EXTRA_CFLAGS += -DRT3052 -DRT305x -DRTMP_RF_RW_SUPPORT
-endif
-
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-                    $(RT_WIFI_DIR)/chips/rt305x.o
-endif
+#endif
+#endif
 
-ifeq ($(CONFIG_RALINK_RT3352),y)
-EXTRA_CFLAGS += -DRT3352 -DRT305x -DRTMP_RF_RW_SUPPORT
-EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+#ifeq ($(CONFIG__RALINK_RT3052),y)
+#EXTRA_CFLAGS += -DSPECIFIC_VCORECAL_SUPPORT
+#ifeq ($(CONFIG_MT76X2E_RALINK_RT3350),y)
+#EXTRA_CFLAGS += -DRT3350 -DRT305x -DRTMP_RF_RW_SUPPORT
+#else
+#EXTRA_CFLAGS += -DRT3052 -DRT305x -DRTMP_RF_RW_SUPPORT
+#endif
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-                    $(RT_WIFI_DIR)/chips/rt305x.o\
-                    $(RT_WIFI_DIR)/chips/rt3352.o
-endif
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#                    $(RT_WIFI_DIR)/chips/rt305x.o
+#endif
 
-ifeq ($(CONFIG_RT3x52),y)
-EXTRA_CFLAGS += -DRT3052 -DRT3352 -DRT305x -DRTMP_RF_RW_SUPPORT -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+#ifeq ($(CONFIG_RALINK_RT3352),y)
+#EXTRA_CFLAGS += -DRT3352 -DRT305x -DRTMP_RF_RW_SUPPORT
+#EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#                    $(RT_WIFI_DIR)/chips/rt305x.o\
+#                    $(RT_WIFI_DIR)/chips/rt3352.o
+#endif
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-                    $(RT_WIFI_DIR)/chips/rt305x.o\
-                    $(RT_WIFI_DIR)/chips/rt3352.o
-endif
+#ifeq ($(CONFIG_RT3x52),y)
+#EXTRA_CFLAGS += -DRT3052 -DRT3352 -DRT305x -DRTMP_RF_RW_SUPPORT -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
 
-ifeq ($(CONFIG_RALINK_RT5350),y)
-EXTRA_CFLAGS += -DRT5350 -DRT305x -DRTMP_RF_RW_SUPPORT
-EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#                    $(RT_WIFI_DIR)/chips/rt305x.o\
+#                    $(RT_WIFI_DIR)/chips/rt3352.o
+#endif
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-                    $(RT_WIFI_DIR)/chips/rt305x.o\
-                    $(RT_WIFI_DIR)/chips/rt5350.o
-endif
+#ifeq ($(CONFIG_RALINK_RT5350),y)
+#EXTRA_CFLAGS += -DRT5350 -DRT305x -DRTMP_RF_RW_SUPPORT
+#EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#                    $(RT_WIFI_DIR)/chips/rt305x.o\
+#                    $(RT_WIFI_DIR)/chips/rt5350.o
+#endif
 
-ifeq ($(CONFIG_RALINK_RT6352),y)
-EXTRA_CFLAGS += -DRT6352 -DRTMP_RF_RW_SUPPORT -DRTMP_FLASH_SUPPORT -DCONFIG_SWMCU_SUPPORT
-EXTRA_CFLAGS += -DRTMP_RBUS_SUPPORT -DRTMP_MAC_PCI
-EXTRA_CFLAGS += -DRTMP_MAC -DRTMP_BBP -DRLT_RF
-EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
-EXTRA_CFLAGS += -DRESOURCE_PRE_ALLOC
-EXTRA_CFLAGS += -DENHANCED_STAT_DISPLAY
-EXTRA_CFLAGS += -DLOFT_IQ_CAL_SUPPORT
-EXTRA_CFLAGS += -DRTMP_TEMPERATURE_CALIBRATION
-EXTRA_CFLAGS += -DRELEASE_EXCLUDE
-EXTRA_CFLAGS += -DENHANCE_NEW_MBSSID_MODE
-EXTRA_CFLAGS += -DDYNAMIC_VGA_SUPPORT
-EXTRA_CFLAGS += -DMCS_LUT_SUPPORT -DPEER_DELBA_TX_ADAPT 
-EXTRA_CFLAGS += -DFIFO_EXT_SUPPORT
-EXTRA_CFLAGS += -DDROP_MASK_SUPPORT
-EXTRA_CFLAGS += -DMULTI_CLIENT_SUPPORT
+#ifeq ($(CONFIG_RALINK_RT6352),y)
+#EXTRA_CFLAGS += -DRT6352 -DRTMP_RF_RW_SUPPORT -DRTMP_FLASH_SUPPORT -DCONFIG_SWMCU_SUPPORT
+#EXTRA_CFLAGS += -DRTMP_RBUS_SUPPORT -DRTMP_MAC_PCI
+#EXTRA_CFLAGS += -DRTMP_MAC -DRTMP_BBP -DRLT_RF
+#EXTRA_CFLAGS += -DSPECIFIC_BCN_BUF_SUPPORT -DVCORECAL_SUPPORT
+#EXTRA_CFLAGS += -DRESOURCE_PRE_ALLOC
+#EXTRA_CFLAGS += -DENHANCED_STAT_DISPLAY
+#EXTRA_CFLAGS += -DLOFT_IQ_CAL_SUPPORT
+#EXTRA_CFLAGS += -DRTMP_TEMPERATURE_CALIBRATION
+#EXTRA_CFLAGS += -DRELEASE_EXCLUDE
+#EXTRA_CFLAGS += -DENHANCE_NEW_MBSSID_MODE
+#EXTRA_CFLAGS += -DDYNAMIC_VGA_SUPPORT
+#EXTRA_CFLAGS += -DMCS_LUT_SUPPORT -DPEER_DELBA_TX_ADAPT 
+#EXTRA_CFLAGS += -DFIFO_EXT_SUPPORT
+#EXTRA_CFLAGS += -DDROP_MASK_SUPPORT
+#EXTRA_CFLAGS += -DMULTI_CLIENT_SUPPORT
 
-ifeq ($(CONFIG_FIRST_CARD_EXTERNAL_PA),y)
-EXTRA_CFLAGS += -DRT6352_EP_SUPPORT
-endif
+#ifeq ($(CONFIG_FIRST_CARD_EXTERNAL_PA),y)
+#EXTRA_CFLAGS += -DRT6352_EP_SUPPORT
+#endif
 
-ifeq ($(CONFIG_FIRST_CARD_EXTERNAL_LNA),y)
-EXTRA_CFLAGS += -DRT6352_EL_SUPPORT
-endif
+#ifeq ($(CONFIG_FIRST_CARD_EXTERNAL_LNA),y)
+#EXTRA_CFLAGS += -DRT6352_EL_SUPPORT
+#endif
 
-chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
-		$(RT_WIFI_DIR)/phy/rlt_rf.o\
-            $(RT_WIFI_DIR)/phy/rtmp_phy.o\
-            $(RT_WIFI_DIR)/common/rtmp_swmcu.o\
-            $(RT_WIFI_DIR)/chips/rt6352.o\
-            $(RT_WIFI_DIR)/common/cmm_rf_cal.o\
-            $(RT_WIFI_DIR)/common/cmm_loft_cal.o
+#chip_objs += $(RT_WIFI_DIR)/phy/rt_rf.o\
+#		$(rT_WIFI_DIR)/phy/rlt_rf.o\
+#            $(RT_WIFI_DIR)/phy/rtmp_phy.o\
+#            $(RT_WIFI_DIR)/common/rtmp_swmcu.o\
+#            $(RT_WIFI_DIR)/chips/rt6352.o\
+#            $(RT_WIFI_DIR)/common/cmm_rf_cal.o\
+#            $(RT_WIFI_DIR)/common/cmm_loft_cal.o
 
-ifeq ($(CONFIG_ATE_SUPPORT),y)
-chip_objs += $(RT_WIFI_DIR)/ate/chips/rt6352_ate.o
-endif
-endif
+#ifeq ($(CONFIG_MT76X2E_ATE_SUPPORT),y)
+#chip_objs += $(RT_WIFI_DIR)/ate/chips/rt6352_ate.o
+#endif
+#endif
 
-ifeq ($(CONFIG_RALINK_MT7610E),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_MT7610E),y)
 EXTRA_CFLAGS += -DRT65xx -DMT76x0 -DMT7610 
 EXTRA_CFLAGS += -DRLT_MAC -DRLT_BBP -DRLT_RF -DRTMP_RF_RW_SUPPORT
 EXTRA_CFLAGS += -DRTMP_MAC_PCI -DRTMP_PCI_SUPPORT -DRX_DMA_SCATTER -DCONFIG_ANDES_SUPPORT -DRTMP_EFUSE_SUPPORT
@@ -579,7 +580,7 @@
             #$(RT_WIFI_DIR)/ate/chips/rt6590_ate.o
 endif
 
-ifeq ($(CONFIG_RALINK_MT7612E),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_MT7612E),y)
 EXTRA_CFLAGS += -DRT65xx -DMT76x2 -DMT7612
 EXTRA_CFLAGS += -DRLT_MAC -DRLT_BBP -DMT_RF -DRTMP_RF_RW_SUPPORT
 EXTRA_CFLAGS += -DRTMP_MAC_PCI -DRTMP_PCI_SUPPORT -DRX_DMA_SCATTER -DCONFIG_ANDES_SUPPORT -DRTMP_EFUSE_SUPPORT -DCAL_FREE_IC_SUPPORT
@@ -614,12 +615,12 @@
             $(RT_WIFI_DIR)/os/linux/pci_main_dev.o\
             $(RT_WIFI_DIR)/os/linux/rt_rbus_pci_drv.o
 
-ifeq ($(CONFIG_ATE_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_ATE_SUPPORT),y)
 chip_objs += $(RT_WIFI_DIR)/ate/chips/mt76x2_ate.o
 endif
 endif
 
-ifeq ($(CONFIG_RALINK_MT7612U),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_MT7612U),y)
 EXTRA_CFLAGS += -DRT65xx -DMT76x2 -DMT7612
 EXTRA_CFLAGS += -DRLT_MAC -DRLT_BBP -DMT_RF -DRTMP_RF_RW_SUPPORT
 EXTRA_CFLAGS += -DRTMP_MAC_USB -DRTMP_USB_SUPPORT -DCONFIG_ANDES_SUPPORT -DRTMP_EFUSE_SUPPORT -DCAL_FREE_IC_SUPPORT
@@ -647,7 +648,7 @@
             $(RT_WIFI_DIR)/os/linux/rt_usb.o\
             $(RT_WIFI_DIR)/os/linux/rt_usb_util.o
 
-ifeq ($(CONFIG_ATE_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_ATE_SUPPORT),y)
 chip_objs += $(RT_WIFI_DIR)/ate/chips/mt76x2_ate.o
 endif
 endif
@@ -658,7 +659,7 @@
 ifeq ($(CONFIG_SUPPORT_OPENWRT),y)
 obj-m += $(DRV_NAME).o
 else
-obj-$(CONFIG_RLT_AP_SUPPORT) += $(DRV_NAME).o
+obj-$(CONFIG_MT76X2E_RLT_AP_SUPPORT) += $(DRV_NAME).o
 endif
 
 $(DRV_NAME)-objs += $(cmm_objs) $(asic_objs) $(chip_objs) $(rate_objs)\
@@ -674,11 +675,11 @@
                     $(RT_WIFI_DIR)/os/linux/rt_rbus_pci_drv.o\
                     $(RT_WIFI_DIR)/os/linux/rt_rbus_pci_util.o
 
-ifeq ($(CONFIG_RALINK_RT6352),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_RT6352),y)
 $(DRV_NAME)-objs += $(RT_WIFI_DIR)/os/linux/rbus_main_dev.o
 endif
 
-ifeq ($(CONFIG_ATE_SUPPORT),y)
+ifeq ($(CONFIG_MT76X2E_ATE_SUPPORT),y)
 
 EXTRA_CFLAGS += -DRALINK_ATE -DCONFIG_RT2880_ATE_CMD_NEW 
 EXTRA_CFLAGS += -DRALINK_QA
@@ -727,7 +728,7 @@
 EXTRA_CFLAGS += -DHW_ANTENNA_DIVERSITY_SUPPORT
 endif
 
-ifeq ($(CONFIG_BAND_STEERING),y)
+ifeq ($(CONFIG_MT76X2E_BAND_STEERING),y)
 EXTRA_CFLAGS += -DBAND_STEERING
 spec_objs += $(RT_WIFI_DIR)/ap/ap_band_steering.o
 endif
@@ -742,49 +743,49 @@
 EXTRA_CFLAGS += -DDBG
 endif
 
-ifeq ($(CONFIG_RTMP_INTERNAL_TX_ALC),y)
+ifeq ($(CONFIG_MT76X2E_RTMP_INTERNAL_TX_ALC),y)
 EXTRA_CFLAGS += -DRTMP_INTERNAL_TX_ALC
 endif
 
-ifeq ($(CONFIG_RTMP_TEMPERATURE_COMPENSATION),y)
-ifeq ($(CONFIG_RALINK_MT7620),y)
+ifeq ($(CONFIG_MT76X2E_RTMP_TEMPERATURE_COMPENSATION),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_MT7620),y)
 EXTRA_CFLAGS += -DRTMP_TEMPERATURE_COMPENSATION
 endif
 endif
 
-ifeq ($(CONFIG_RTMP_THERMAL_PROTECT),y)
-ifeq ($(CONFIG_RALINK_MT7620),y)
+ifeq ($(CONFIG_MT76X2E_RTMP_THERMAL_PROTECT),y)
+ifeq ($(CONFIG_MT76X2E_RALINK_MT7620),y)
 EXTRA_CFLAGS += -DTHERMAL_PROTECT_SUPPORT
 endif
 endif
 
 # For OpenWrt compatibility
-ifeq ($(CONFIG_SUPPORT_OPENWRT),y)
-EXTRA_CFLAGS += -DCONFIG_RT_FIRST_CARD=$(CONFIG_RT_FIRST_CARD)
-EXTRA_CFLAGS += -DCONFIG_RT_SECOND_CARD=$(CONFIG_RT_SECOND_CARD)
+ifeq ($(CONFIG_MT76X2E_SUPPORT_OPENWRT),y)
+EXTRA_CFLAGS += -DCONFIG_RT_FIRST_CARD=$(CONFIG_MT76X2E_RT_FIRST_CARD)
+EXTRA_CFLAGS += -DCONFIG_RT_SECOND_CARD=$(CONFIG_MT76X2E_RT_SECOND_CARD)
 
-EXTRA_CFLAGS += -DCONFIG_RT_FIRST_IF_RF_OFFSET=$(CONFIG_RT_FIRST_IF_RF_OFFSET)
-EXTRA_CFLAGS += -DCONFIG_RT_SECOND_IF_RF_OFFSET=$(CONFIG_RT_SECOND_IF_RF_OFFSET)
+EXTRA_CFLAGS += -DCONFIG_RT_FIRST_IF_RF_OFFSET=$(CONFIG_MT76X2E_RT_FIRST_IF_RF_OFFSET)
+EXTRA_CFLAGS += -DCONFIG_RT_SECOND_IF_RF_OFFSET=$(CONFIG_MT76X2E_RT_SECOND_IF_RF_OFFSET)
 
-ifeq ($(CONFIG_FIRST_IF_EEPROM_PROM),y)
+ifeq ($(CONFIG_MT76X2E_FIRST_IF_EEPROM_PROM),y)
 EXTRA_CFLAGS += -DCONFIG_RT_FIRST_CARD_EEPROM="\"prom\""
 else
-ifeq ($(CONFIG_FIRST_IF_EEPROM_EFUSE),y)
+ifeq ($(CONFIG_MT76X2E_FIRST_IF_EEPROM_EFUSE),y)
 EXTRA_CFLAGS += -DCONFIG_RT_FIRST_CARD_EEPROM="\"efuse\""
 else
-ifeq ($(CONFIG_FIRST_IF_EEPROM_FLASH),y)
+ifeq ($(CONFIG_MT76X2E_FIRST_IF_EEPROM_FLASH),y)
 EXTRA_CFLAGS += -DCONFIG_RT_FIRST_CARD_EEPROM="\"flash\""
 endif
 endif
 endif
 
-ifeq ($(CONFIG_SECOND_IF_EEPROM_PROM),y)
+ifeq ($(CONFIG_MT76X2E_SECOND_IF_EEPROM_PROM),y)
 EXTRA_CFLAGS += -DCONFIG_RT_SECOND_CARD_EEPROM="\"prom\""
 else
-ifeq ($(CONFIG_SECOND_IF_EEPROM_EFUSE),y)
+ifeq ($(CONFIG_MT76X2E_SECOND_IF_EEPROM_EFUSE),y)
 EXTRA_CFLAGS += -DCONFIG_RT_SECOND_CARD_EEPROM="\"efuse\""
 else
-ifeq ($(CONFIG_SECOND_IF_EEPROM_FLASH),y)
+ifeq ($(CONFIG_MT76X2E_SECOND_IF_EEPROM_FLASH),y)
 EXTRA_CFLAGS += -DCONFIG_RT_SECOND_CARD_EEPROM="\"flash\""
 endif
 endif
@@ -792,7 +793,7 @@
 
 endif
 
-ifeq ($(CONFIG_DISABLE_EDCCA),y)
+ifeq ($(CONFIG_MT76X2E_DISABLE_EDCCA),y)
 EXTRA_CFLAGS += -DCONFIG_DISABLE_EDCCA
 endif

Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Kconfig
=================================================================== 
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Kconfig	2021-12-26 10:42:03.725844279 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Kconfig	2021-12-25 23:49:26.427547551 +0800
@@ -1,125 +1,125 @@
-config RLT_AP_SUPPORT
+config MT76X2E_RLT_AP_SUPPORT
 	tristate "MediaTek RLT WiFi AP Support"
 #	depends on NET_RADIO 
 	select WIRELESS_EXT
 	select WEXT_SPY
 	select WEXT_PRIV
 
-config WDS_SUPPORT
+config MT76X2E_WDS_SUPPORT
 	bool "WDS"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default y
 	
-config MBSS_SUPPORT
+config MT76X2E_MBSS_SUPPORT
 	bool "MBSSID"
-	depends on RLT_AP_SUPPORT
-config SNIFFER_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
+config MT76X2E_SNIFFER_SUPPORT
 	bool "SNIFFER"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
-config CFG80211_SUPPORT
+config MT76X2E_CFG80211_SUPPORT
 	bool "CFG80211"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
-config NEW_MBSSID_MODE
+config MT76X2E_NEW_MBSSID_MODE
 	bool "New MBSSID Mode"
-	depends on RLT_AP_SUPPORT || RALINK_RT3883 || RALINK_RT3352 || RALINK_RT5350 || RALINK_RT6352 || RALINK_MT7620
-	depends on MBSS_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT || RALINK_RT3883 || RALINK_RT3352 || RALINK_RT5350 || RALINK_RT6352 || RALINK_MT7620
+	depends on MT76X2E_MBSS_SUPPORT
 	default n
 
-config ENHANCE_NEW_MBSSID_MODE
+config MT76X2E_ENHANCE_NEW_MBSSID_MODE
     	bool "Enhanced MBSSID Mode"
-    	depends on NEW_MBSSID_MODE
+    	depends on MT76X2E_NEW_MBSSID_MODE
     	default n
 
-config APCLI_SUPPORT
+config MT76X2E_APCLI_SUPPORT
 	bool "AP-Client Support"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default y
 
-config APCLI_CERT_SUPPORT
+config MT76X2E_APCLI_CERT_SUPPORT
         bool "AP-Client TGn Cert Support"
-	depends on RLT_AP_SUPPORT
-        depends on APCLI_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
+        depends on MT76X2E_APCLI_SUPPORT
         default n
 
-config MAC_REPEATER_SUPPORT
+config MT76X2E_MAC_REPEATER_SUPPORT
 	bool "MAC Repeater Support"
-	depends on RLT_AP_SUPPORT || RALINK_RT6352 || RALINK_MT7620
-	depends on APCLI_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT || RALINK_RT6352 || RALINK_MT7620
+	depends on MT76X2E_APCLI_SUPPORT
 	default y
 
-config DFS_SUPPORT
+config MT76X2E_DFS_SUPPORT
 	bool "DFS Support"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	select RALINK_TIMER_DFS
 
-config LLTD_SUPPORT
+config MT76X2E_LLTD_SUPPORT
 	bool "LLTD (Link Layer Topology Discovery Protocol)"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
-config NINTENDO_AP
+config MT76X2E_NINTENDO_AP
 	bool "Nintendo AP Support"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
-config COC_SUPPORT
+config MT76X2E_COC_SUPPORT
 	bool "CoC Support"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
-config DELAYED_TCP_ACK_SUPPORT
+config MT76X2E_DELAYED_TCP_ACK_SUPPORT
         bool "Delayed TCP ACK Support"
-        depends on RLT_AP_SUPPORT
+        depends on MT76X2E_RLT_AP_SUPPORT
         default n
 
-config BAND_STEERING
+config MT76X2E_BAND_STEERING
 	bool "Band Steering"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
 
-config MCAST_RATE_SPECIFIC
+config MT76X2E_MCAST_RATE_SPECIFIC
 	bool "User Specific Tx Rate of MCAST Packet"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
 	default n
 
-config THERMAL_PROTECT_SUPPORT
+config MT76X2E_THERMAL_PROTECT_SUPPORT
 	bool "Thermal Protection Support"
-	depends on RLT_AP_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
         default n	
 
-config CON_WPS_SUPPORT
+config MT76X2E_CON_WPS_SUPPORT
 	bool "Concurrent WPS Support"
-	depends on RLT_AP_SUPPORT
-	depends on APCLI_SUPPORT
-	depends on WSC_INCLUDED
-	depends on WSC_V2_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT
+	depends on MT76X2E_APCLI_SUPPORT
+	depends on MT76X2E_WSC_INCLUDED
+	depends on MT76X2E_WSC_V2_SUPPORT
 	default n
 	
-#config MESH_SUPPORT
+#config MT76X2E_MESH_SUPPORT
 #       bool "MESH Support"
-#       depends on RLT_AP_SUPPORT
+#       depends on MT76X2E_RLT_AP_SUPPORT
 
-config DOT11R_FT_SUPPORT
+config MT76X2E_DOT11R_FT_SUPPORT
        bool "802.11r Fast BSS Transition"
-       depends on RLT_AP_SUPPORT
+       depends on MT76X2E_RLT_AP_SUPPORT
 
-config DOT11K_RRM_SUPPORT
+config MT76X2E_DOT11K_RRM_SUPPORT
        bool "802.11k Radio Resource Management"
-       depends on RLT_AP_SUPPORT
+       depends on MT76X2E_RLT_AP_SUPPORT
        default n
 
-#config RT2860V2_SNMP
+#config MT76X2E_RT2860V2_SNMP
 #	bool "Net-SNMP Support"
-#	depends on RLT_AP_SUPPORT
+#	depends on MT76X2E_RLT_AP_SUPPORT
 
-#config EXT_BUILD_CHANNEL_LIST
+#config MT76X2E_EXT_BUILD_CHANNEL_LIST
 #	bool "Extension Channel List"
-#	depends on RLT_AP_SUPPORT
+#	depends on MT76X2E_RLT_AP_SUPPORT
 
-#config AUTO_CH_SELECT_ENHANCE
+#config MT76X2E_AUTO_CH_SELECT_ENHANCE
 #	bool "Auto Channel Selection Enhancement"
-#	depends on RLT_AP_SUPPORT
+#	depends on MT76X2E_RLT_AP_SUPPORT

Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/Kconfig
=================================================================== 
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi/Kconfig	2021-12-26 10:42:03.709844004 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/Kconfig	2021-12-26 00:48:28.427890613 +0800
@@ -1,264 +1,270 @@
-config RLT_WIFI
-	tristate "RLT WIFI Driver"
-	select WIFI_BASIC_FUNC if RLT_WIFI
+if FIRST_IF_MT7612E || SECOND_IF_MT7612E
+config MT76X2E_RLT_WIFI
+	tristate "RLT 76x2 WIFI Driver"
+	select MT76X2E_WIFI_BASIC_FUNC if MT76X2E_RLT_WIFI
 
-if RLT_WIFI
+if MT76X2E_RLT_WIFI
 menu "WiFi Generic Feature Options"
+
+if FIRST_IF_MT76X2E
 choice
         prompt "EEPROM Type of 1st Card"
         depends on ! FIRST_IF_NONE
 
-        config FIRST_IF_EEPROM_PROM
+        config MT76X2E_FIRST_IF_EEPROM_PROM
         bool "EEPROM"
 
-        config FIRST_IF_EEPROM_EFUSE
+        config MT76X2E_FIRST_IF_EEPROM_EFUSE
         bool "EFUSE"
 
-        config FIRST_IF_EEPROM_FLASH
+        config MT76X2E_FIRST_IF_EEPROM_FLASH
         bool "FLASH"
 endchoice
 
-config RT_FIRST_CARD_EEPROM
+config MT76X2E_RT_FIRST_CARD_EEPROM
         string
         depends on ! FIRST_IF_NONE
         default "prom" if FIRST_IF_EEPROM_PROM
         default "efuse" if FIRST_IF_EEPROM_EFUSE
         default "flash" if FIRST_IF_EEPROM_FLASH
+endif
 
+if SECOND_IF_MT76X2E
 choice
         prompt "EEPROM Type of 2nd Card"
         depends on ! SECOND_IF_NONE
 
-        config SECOND_IF_EEPROM_PROM
+        config MT76X2E_SECOND_IF_EEPROM_PROM
         bool "EEPROM"
 
-        config SECOND_IF_EEPROM_EFUSE
+        config MT76X2E_SECOND_IF_EEPROM_EFUSE
         bool "EFUSE"
 
-        config SECOND_IF_EEPROM_FLASH
+        config MT76X2E_SECOND_IF_EEPROM_FLASH
         bool "FLASH"
 endchoice
 
-config RT_SECOND_CARD_EEPROM
+config MT76X2E_RT_SECOND_CARD_EEPROM
         string
         depends on ! SECOND_IF_NONE
         default "prom" if SECOND_IF_EEPROM_PROM
         default "efuse" if SECOND_IF_EEPROM_EFUSE
         default "flash" if SECOND_IF_EEPROM_FLASH
-		
-config MULTI_INF_SUPPORT
+endif		
+
+config MT76X2E_MULTI_INF_SUPPORT
         bool
         default y if !FIRST_IF_NONE && !SECOND_IF_NONE
 		
-config WIFI_BASIC_FUNC
+config MT76X2E_WIFI_BASIC_FUNC
 	bool "Basic Functions"
 	select WIRELESS_EXT
 	select WEXT_SPY
 	select WEXT_PRIV
         
-config WSC_INCLUDED
+config MT76X2E_WSC_INCLUDED
 	bool "WSC(WiFi Simple Config)"
 	depends on WIFI_DRIVER
     	default y
 
-config WSC_V2_SUPPORT
+config MT76X2E_WSC_V2_SUPPORT
 	bool "WSC V2(WiFi Simple Config Version 2.0)"
 	depends on WIFI_DRIVER
     	default y
 
-config WSC_NFC_SUPPORT
+config MT76X2E_WSC_NFC_SUPPORT
 	bool "WSC out-of-band(NFC)"
         depends on WIFI_DRIVER
     	default n
 
-config DOT11N_DRAFT3
+config MT76X2E_DOT11N_DRAFT3
 	bool "802.11n Draft3"
 	depends on WIFI_DRIVER
     	default n
     
-config DOT11_VHT_AC
+config MT76X2E_DOT11_VHT_AC
 	bool "802.11ac"
 	depends on WIFI_DRIVER
     	default n
     
-config DOT11W_PMF_SUPPORT
+config MT76X2E_DOT11W_PMF_SUPPORT
 	bool "PMF Support"
 	depends on WIFI_DRIVER
     	default n
 
-config TXBF_SUPPORT
+config MT76X2E_TXBF_SUPPORT
     	bool "Tx Bean Forming Support"
     	depends on WIFI_DRIVER
     	default n
 
-#config WMM_ACM_SUPPORT
+#config MT76X2E_WMM_ACM_SUPPORT
 #	bool "WMM ACM"
 #	depends on WIFI_DRIVER
 #   	default n
 	
-config LLTD_SUPPORT
+config MT76X2E_LLTD_SUPPORT
 	bool "LLTD (Link Layer Topology Discovery Protocol)"
 	depends on WIFI_DRIVER
     	default n
 
-config QOS_DLS_SUPPORT
+config MT76X2E_QOS_DLS_SUPPORT
 	bool "802.11e DLS ((Direct-Link Setup) Support"
 	depends on WIFI_DRIVER
     	default n
 
-config WAPI_SUPPORT
+config MT76X2E_WAPI_SUPPORT
 	bool "WAPI Support"
 	depends on WIFI_DRIVER
     	default n
 
-config CARRIER_DETECTION_SUPPORT
+config MT76X2E_CARRIER_DETECTION_SUPPORT
 	bool "Carrier Detect"
 	depends on WIFI_DRIVER
     	default n
 
-config ED_MONITOR_SUPPORT
+config MT76X2E_ED_MONITOR_SUPPORT
         bool "ED CCA Monitor Support"
         depends on WIFI_DRIVER
         default n
 
-config IGMP_SNOOP_SUPPORT
+config MT76X2E_IGMP_SNOOP_SUPPORT
 	bool "IGMP Snooping"
 	depends on WIFI_DRIVER
     	default n
 
-config BLOCK_NET_IF
+config MT76X2E_BLOCK_NET_IF
 	bool "NETIF Block"
 	depends on WIFI_DRIVER
     	default n
 
-#config VIDEO_TURBINE_SUPPORT
+#config MT76X2E_VIDEO_TURBINE_SUPPORT
 #	bool "Video Turbine support"
 #	depends on WIFI_DRIVER
 #   	default n
 
-#config RA_CLASSIFIER
+#config MT76X2E_RA_CLASSIFIER
 #	tristate "Ralink Flow Classifier"
 #	depends on WIFI_DRIVER
 #	default n
 
-config RATE_ADAPTION
+config MT76X2E_RATE_ADAPTION
     	bool "New Rate Adaptation Support"
     	depends on WIFI_DRIVER
     	default n
 
-config NEW_RATE_ADAPT_SUPPORT
+config MT76X2E_NEW_RATE_ADAPT_SUPPORT
     	bool "Intelligent Rate Adaption"
-	depends on RATE_ADAPTION
+	depends on MT76X2E_RATE_ADAPTION
     	depends on WIFI_DRIVER
     	default y
 
-config AGS_SUPPORT
+config MT76X2E_AGS_SUPPORT
 	bool "Adaptive Group Switching"
 	depends on RATE_ADAPTION
 	depends on WIFI_DRIVER
     	default n
     
-config IDS_SUPPORT
+config MT76X2E_IDS_SUPPORT
 	bool "IDS(Intrusion Detection System) Support"
 	depends on WIFI_DRIVER
     	default n
 
-config WIFI_WORK_QUEUE
+config MT76X2E_WIFI_WORK_QUEUE
 	bool "Work Queue"
 	depends on WIFI_DRIVER
     	default n
 
-config WIFI_SKB_RECYCLE
+config MT76X2E_WIFI_SKB_RECYCLE
     	bool "SKB Recycle(Linux)"
     	depends on WIFI_DRIVER
     	default n
 
-config RTMP_FLASH_SUPPORT
+config MT76X2E_RTMP_FLASH_SUPPORT
 	bool "Flash Support"
 	depends on WIFI_DRIVER
     	default n
 
-config LED_CONTROL_SUPPORT
+config MT76X2E_LED_CONTROL_SUPPORT
 	bool "LED Control Support"
 	depends on WIFI_DRIVER
     	default n
 
-config SINGLE_SKU_V2
+config MT76X2E_SINGLE_SKU_V2
     	bool "Single SKU V2"
     	depends on WIFI_DRIVER || RALINK_RT6352
     	default n
 
-config HW_ANTENNA_DIVERSITY
+config MT76X2E_HW_ANTENNA_DIVERSITY
 	bool "Antenna Diversity Support"
-	depends on RLT_AP_SUPPORT || RLT_STA_SUPPORT
+	depends on MT76X2E_RLT_AP_SUPPORT || MT76X2E_RLT_STA_SUPPORT
 	depends on RALINK_RT5350
     	default n
 
-config ATE_SUPPORT
+config MT76X2E_ATE_SUPPORT
 	bool "ATE/QA Support"
 	depends on WIFI_DRIVER
     	default n
 
-config  RT2860V2_AP_32B_DESC
+config MT76X2E_RT2860V2_AP_32B_DESC
 	bool "32 Byte Descriptor Support"
 	depends on WIFI_DRIVER
 	depends on RALINK_RT6352 || RALINK_MT7620
 	default n
 
-config RT2860V2_AP_MEMORY_OPTIMIZATION
+config MT76X2E_RT2860V2_AP_MEMORY_OPTIMIZATION
 	bool "Memory Optimization"
 	depends on WIFI_DRIVER
     	default n
 
-config RTMP_INTERNAL_TX_ALC
+config MT76X2E_RTMP_INTERNAL_TX_ALC
     	bool "TSSI Compensation"
     	depends on WIFI_DRIVER
-    	depends on RALINK_RT3350 || RALINK_RT3352 || RALINK_RT5350 || RALINK_RT6352
+    	depends on RALINK_RT3350 || RALINK_RT3352 || RALINK_RT5350 || MT76X2E_RALINK_RT6352
 	default n
     
-config RTMP_TEMPERATURE_COMPENSATION
+config MT76X2E_RTMP_TEMPERATURE_COMPENSATION
     	bool "Temperature Compensation"
     	depends on WIFI_DRIVER
-    	depends on RALINK_RT6352
+    	depends on MT76X2E_RALINK_RT6352
     	default n
 
-config RTMP_THERMAL_PROTECT
+config MT76X2E_RTMP_THERMAL_PROTECT
     	bool "Thermal Protect Support"
     	depends on WIFI_DRIVER
-    	depends on RALINK_RT6352
+    	depends on MT76X2E_RALINK_RT6352
     	default n
 
-config PASSPOINT_R2
+config MT76X2E_PASSPOINT_R2
 	bool "Passpoint Release-2 Support"
 	depends on WIFI_DRIVER
 	select DOT11W_PMF_SUPPORT
     	default n
 
 
-config CO_CLOCK_SUPPORT
+config MT76X2E_CO_CLOCK_SUPPORT
         bool "co-clock Support"
         depends on WIFI_DRIVER
     	default n
 
 menu "PA/LNA Settings of 1st Card"
-config FIRST_CARD_EXTERNAL_PA
+config MT76X2E_FIRST_CARD_EXTERNAL_PA
         bool "External Power Amplifier(PA)"
         depends on WIFI_DRIVER
     default n
 
-config FIRST_CARD_EXTERNAL_LNA
+config MT76X2E_FIRST_CARD_EXTERNAL_LNA
         bool "External Low-Noise Amplifier(LNA)"
         depends on WIFI_DRIVER
     default n
 endmenu
 
 menu "PA/LNA Settings of 2nd Card"
-config SECOND_CARD_EXTERNAL_PA
+config MT76X2E_SECOND_CARD_EXTERNAL_PA
         bool "External Power Amplifier(PA)"
         depends on WIFI_DRIVER
     default n
 
-config SECOND_CARD_EXTERNAL_LNA
+config MT76X2E_SECOND_CARD_EXTERNAL_LNA
         bool "External Low-Noise Amplifier(LNA)"
         depends on WIFI_DRIVER
     default n
@@ -268,39 +274,39 @@
 # Section for chip architectures
 #
 # "RLT MAC Support"
-#config RLT_MAC
+#config MT76X2E_RLT_MAC
 #	bool
 #	depends on WIFI_DRIVER
 #    	default n
 
-config RLT_BBP
+config MT76X2E_RLT_BBP
     	bool
 
-config RLT_RF
+config MT76X2E_RLT_RF
     	bool
 
 # "RTMP MAC Support"
-config RTMP_MAC
+config MT76X2E_RTMP_MAC
 	bool
 	depends on WIFI_DRIVER
     	default n
 
-config RTMP_BBP
+config MT76X2E_RTMP_BBP
     	bool
 
-config RTMP_RF
+config MT76X2E_RTMP_RF
     	bool
 
 #
 # Section for interfaces
 #
-config RTMP_PCI_SUPPORT
+config MT76X2E_RTMP_PCI_SUPPORT
     	bool
 
-config RTMP_USB_SUPPORT
+config MT76X2E_RTMP_USB_SUPPORT
     	bool
 
-config RTMP_RBUS_SUPPORT
+config MT76X2E_RTMP_RBUS_SUPPORT
     	bool
 
 endmenu
@@ -310,18 +316,18 @@
         prompt "Main Mode"
         default WIFI_MODE_AP
 
-        config WIFI_MODE_AP
+        config MT76X2E_WIFI_MODE_AP
                 bool "AP"
 
-        config WIFI_MODE_STA
+        config MT76X2E_WIFI_MODE_STA
                 bool "STA"
 
-        config WIFI_MODE_BOTH
+        config MT76X2E_WIFI_MODE_BOTH
                 bool "APSTA"
     endchoice
 
-    if WIFI_MODE_AP || WIFI_MODE_BOTH
-        source "drivers/net/wireless/rlt_wifi_ap/Kconfig"
+    if MT76X2E_WIFI_MODE_AP || MT76X2E_WIFI_MODE_BOTH
+        source "drivers/net/wireless/mtk/mt76x2/rlt_wifi_ap/Kconfig"
     endif
 
     #if WIFI_MODE_STA || WIFI_MODE_BOTH
@@ -330,43 +336,43 @@
 endmenu	
 
 #"RT2860 series"
-config RALINK_RT28XX
+config MT76X2E_RALINK_RT28XX
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"RT3092"
-config RALINK_RT3092
+config MT76X2E_RALINK_RT3092
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"RT3572"
-config RALINK_RT3572
+config MT76X2E_RALINK_RT3572
         bool
         default n
         select RTMP_USB_SUPPORT
 
 #"RT5392"
-config RALINK_RT5392
+config MT76X2E_RALINK_RT5392
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"RT5572"
-config RALINK_RT5572
+config MT76X2E_RALINK_RT5572
         bool
         default n
         select RTMP_USB_SUPPORT
 
 #"RT5592"
-config RALINK_RT5592
+config MT76X2E_RALINK_RT5592
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"MT7620/RT6352"
-config RALINK_RT6352
+config MT76X2E_RALINK_RT6352
         bool
         default n
         select RTMP_RBUS_SUPPORT
@@ -374,31 +380,31 @@
 #        select RTMP_INTERNAL_TX_ALC
 
 #"MT7610E"
-config RALINK_MT7610E
+config MT76X2E_RALINK_MT7610E
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"MT7610U"
-config RALINK_MT7610U
+config MT76X2E_RALINK_MT7610U
         bool
         default n
         select RTMP_USB_SUPPORT
 
 #"RT8592"
-config RALINK_RT8592
+config MT76X2E_RALINK_RT8592
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"MT7612E"
-config RALINK_MT7612E
+config MT76X2E_RALINK_MT7612E
         bool
         default n
         select RTMP_PCI_SUPPORT
 
 #"MT7612U"
-config RALINK_MT7612U
+config MT76X2E_RALINK_MT7612U
         bool
         default n
         select RTMP_USB_SUPPORT
@@ -406,7 +412,8 @@
 endif
 
 if RALINK_MT7602E || RALINK_MT7612E
-	config RLT_MAC
+	config MT76X2E_RLT_MAC
 		bool
 		default y
 endif
+endif
Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_cfg.c
===================================================================
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_cfg.c	2021-12-26 10:42:03.709844004 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_cfg.c	2021-12-26 01:05:45.799292311 +0800
@@ -777,9 +777,11 @@
 #endif /* ED_MONITOR */
 INT show_ed_cnt_for_channel_quality(RTMP_ADAPTER *pAd, PSTRING arg);
 
+#ifdef WSC_LED_SUPPORT
 INT Set_Led_Proc(
         IN RTMP_ADAPTER *pAd,
         IN PSTRING arg);
+#endif
 
 #ifdef THERMAL_PROTECT_SUPPORT	
 INT set_thermal_protection_criteria_proc(
@@ -1517,7 +1519,9 @@
 #ifdef SINGLE_SKU_V2
 	{"sku_debug",				Set_Single_Sku_Debug_Proc},
 #endif
+#ifdef WSC_LED_SUPPORT
 	{"led",				Set_Led_Proc},
+#endif
 	{NULL,}
 }; 

Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ate/common/rt_ate.c
===================================================================
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ate/common/rt_ate.c	2022-01-15 11:21:04.073691790 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ate/common/rt_ate.c	2022-01-15 11:12:29.124073854 +0800
@@ -942,7 +942,10 @@
 	mac_val &= (~0x2);
 	RTMP_IO_WRITE32(pAd, 0x1608, mac_val);
 
+	//modify by qingcheng
+#ifdef DOT11N_DRAFT3
 	Set_HT_BssCoex_Proc(pAd,"0"); //Disable 20/40 coexistense
+#endif
 	AsicBBPAdjust(pAd);
 	/* Disable Protection */
 	AsicUpdateProtect(pAd, 0,  (ALLN_SETPROTECT|CCKSETPROTECT|OFDMSETPROTECT), TRUE, FALSE);
Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/common/cmm_sync.c
===================================================================
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi/common/cmm_sync.c	2022-01-15 11:23:13.868933605 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/common/cmm_sync.c	2022-01-15 11:12:54.920798529 +0800
@@ -520,9 +520,12 @@
 VOID Handle_BSS_Width_Trigger_Events(RTMP_ADAPTER *pAd) 
 {
 	ULONG Now32;
-	
+
+	// modify by qingcheng 2022.01.15
+#ifdef DOT11N_DRAFT3	
 	if (pAd->CommonCfg.bBssCoexEnable == FALSE)
 		return;
+#endif
 
 	if ((pAd->CommonCfg.HtCapability.HtCapInfo.ChannelWidth == BW_40) &&
 		(pAd->CommonCfg.Channel <=14))
Index: linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_sync.c
===================================================================
--- linux-3.10.108.orig/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_sync.c	2022-01-15 12:22:26.356087462 +0800
+++ linux-3.10.108/drivers/net/wireless/mtk/mt76x2/rlt_wifi/ap/ap_sync.c	2022-01-15 12:20:11.680450120 +0800
@@ -1246,6 +1246,8 @@
 #ifdef APCLI_CERT_SUPPORT
 				if (pAd->bApCliCertTest == TRUE)
 				{
+//modify by qingcheng 2022.01.15
+#ifdef DOT11N_DRAFT3
 					UCHAR RegClass;
 					OVERLAP_BSS_SCAN_IE	BssScan;
 					BOOLEAN					brc;
@@ -1262,7 +1264,7 @@
 							pAd->CommonCfg.Dot11BssWidthTriggerScanInt = 900;
 						}
 					}
-
+#endif
 					if (ie_list->operating_mode.rx_nss_type == 0) {
 						pEntry->force_op_mode = TRUE;
 						NdisMoveMemory(&pEntry->operating_mode, &ie_list->operating_mode, 1);
